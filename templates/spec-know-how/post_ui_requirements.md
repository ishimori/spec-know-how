# DD-{番号}: UI 要件

| 作成日 | 更新日 | ステータス | ステージ |
|--------|--------|------------|----------|
| {日付} | {日付} | 進行中 | Post |

## 前提 DD

- Stage 5: 最終仕様（完了必須。スキップ時は Stage 3 完了でも可）

## スキップ判定

### 判定条件
対象システムに UI がない場合（純粋なバックエンド/API/バッチのみ）。

### 判定方法
Stage 1 で .html, .jsx, .tsx, .vue, .svelte, テンプレートファイルが検出されなかった場合。

### スキップ時の記録
このDDをスキップする場合:
1. ステータスを「スキップ」に変更
2. 「UI なしシステム。フロントエンド関連ファイル未検出。」と記録
3. ポートフォリオインデックス DD の該当行を更新

## 目的

業務アプリケーションに適した UI 要件を定義する。
既存 UI のパターンを抽出し、移行先での UI 方針を策定する。

## 背景・課題

業務アプリには固有の UI パターンがある（データ密度の高い画面、固定ヘッダ、
カーソル行ハイライト等）。これらを明文化しないと移行時にUXが劣化する。

## 検討内容

### 業務アプリ UI 標準パターン

| パターン | 説明 | 既存実装 | 移行先方針 |
|---------|------|---------|----------|
| 固定ヘッダ | ヘッダ領域はスクロールしても固定表示 | | |
| データグリッド | 大量データの一覧表示、縦罫線あり | | |
| カーソル行ハイライト | 選択行を明確に視認できる背景色 | | |
| 高密度レイアウト | 1画面に多くの情報を詰めた構成 | | |
| キーボード操作 | Tab/Enter での効率的なデータ入力 | | |
| 検索・フィルタ | ヘッダ行でのインライン検索 | | |
| ページネーション/仮想スクロール | 大量レコードの効率的な表示 | | |
| 入力フォーム | ラベル配置、必須マーク、エラー表示 | | |

## 決定事項

（要件定義完了後に記入）

## 成果物

| 成果物 | 配置先 | 状態 |
|--------|--------|------|
| UI 要件仕様書 | `doc/spec/uxm/` | 未作成 |
| 画面一覧 | 本 DD 内 | 未作成 |
| UI パターンカタログ | 本 DD 内 | 未作成 |

## タスク一覧

### Phase 0: 事前精査
- [ ] 📋 各 Phase のタスク精査・詳細化
- [ ] 📋 既存 UI ファイルの一覧（Stage 1 から取得）
- [ ] 😈 **Devil's Advocate調査**

### Phase 1: 既存 UI パターンの棚卸し
- [ ] 画面一覧の作成（URL/ルーティングから抽出）
- [ ] 各画面のレイアウトパターンを分類
- [ ] 共通コンポーネントの特定
- [ ] CSS/スタイルの構造確認
- [ ] 😈 **DA批判レビュー（「このPhaseで何が壊れるか」を最低1件発見）**

### Phase 2: 業務アプリ UI 要件の定義
- [ ] 標準パターンテーブルの記入（上記テーブル）
- [ ] データグリッドの仕様（カラム固定、ソート、フィルタ）
- [ ] フォーム入力の仕様（バリデーション表示、Tab 順序）
- [ ] レスポンシブ対応の要否
- [ ] 😈 **DA批判レビュー（「このPhaseで何が壊れるか」を最低1件発見）**

### Phase 3: アクセシビリティと操作性
- [ ] キーボードナビゲーション要件
- [ ] 色覚多様性への配慮
- [ ] フォントサイズ/行間の基準
- [ ] 印刷対応の要否
- [ ] 😈 **DA批判レビュー（「このPhaseで何が壊れるか」を最低1件発見）**

### Phase 4: UI 要件仕様書の作成
- [ ] 各要件をカテゴリ別に整理
- [ ] 優先度付けと必須/推奨の分類
- [ ] `doc/spec/uxm/` に配置
- [ ] 😈 **DA批判レビュー（「このPhaseで何が壊れるか」を最低1件発見）**

## ログ

### {日付}
- DD作成（spec-know-how 起動時に自動生成）

---

## DA批判レビュー記録

### Phase N DA批判レビュー

**DA観点:** （このPhaseで最も壊れやすいポイントは何か？）

| # | 発見した問題/改善点 | 重要度 | 再現手順（高/中は必須） | DA観点 | 対応 |
|---|-------------------|--------|----------------------|--------|------|
| 1 | (具体的に記述) | 高/中/低 | (高/中: 操作→結果) | (どのDA観点で発見したか) | ✅修正済/⏭️別DD/❌不要 |
