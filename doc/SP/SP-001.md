# SP-001: 初回調査（親管理チケット）

| 作成日 | 更新日 | ステータス |
|--------|--------|------------|
| - | - | 未開始 |

> **このSPシリーズの目標**: [manuals/01_仕様書作成マニュアル.md](../../manuals/01_仕様書作成マニュアル.md) の Step 0〜4 完了 — レガシーシステムから [VERIFIED] 仕様書を抽出し、生成AIによるリエンジニアリングを可能にする。

---

## 信頼度ラベルの対応表

SP-001 の子チケットでは **2種類の信頼度表記**を使い分けます。混同を防ぐため、下表を基準にしてください。

| 調査結果テーブルの信頼度 | 仕様書ドキュメントのラベル | 意味 |
|----------------------|------------------------|------|
| `High` | `[VERIFIED]` | コードと照合済み / 機械処理で計測済み。根拠明確 |
| `Medium` | `[DRAFT]` | 一部照合済み、一部推測あり。追加検証が必要 |
| `Low` | `[UNVERIFIED]` | 根拠不足・未検証。目次・構造参照用のみ |

> **ルール**: 子チケット（SP-001-01〜03）の「調査記録テーブル」には `High / Medium / Low` を記入する。
> SP-001-03 の「既存ドキュメント棚卸し」には `[VERIFIED] / [DRAFT] / [UNVERIFIED]` を記入する（ドキュメント単位の評価のため）。

---

## 【Claude への指示】⚠️ 必読

### [ ] #1: SP-000 の完了確認

`doc/SP/SP-000.md` を読む。ステータスが「完了」でなければ以下を伝えて停止する：
> 「SP-001 を開始する前に SP-000（環境プロファイリング）を完了させてください。」

### [ ] #2: SP-000 から情報を取得し「管理記録」に転記する

| 取得する情報 | 参照場所 |
|------------|---------|
| コードベースのパス/URL | SP-000 > 基本情報・作業目的 > コードベースのパス / URL |
| 既存ドキュメント有無 | SP-000 > 既存ドキュメント > 既存ドキュメント有無 |
| 主なドキュメント | SP-000 > 既存ドキュメント > 主なドキュメント |
| 機械処理言語 | SP-000 > 機械処理 > 機械処理言語 |
| サブシステム有無・内訳 | SP-001-01.md 完了後に転記（Phase 1 調査記録 > サブシステム有無・内訳） |

### [ ] #3: 概算計測（ユーザーが実行し、結果を貼り付ける）し「管理記録」に記録する

> **実行者: ユーザー**。以下のコマンドをターミナルで実行し、出力をそのまま貼り付けてください。
> Claude はその結果を読み取って管理記録に記録します。

```bash
find {パス} -type f | wc -l   # ファイル数の概算
ls -la {パス}                  # ディレクトリ構造（深さ2まで）
```

貼り付けフォーマット（監査用）:
```
# 実行コマンド
<ここにコマンドを記載>
# 実行結果
<ここに出力を貼り付け>
```

### #4〜#6: 子チケットを順番に開いて実行する

| # | ファイル | 備考 |
|---|---------|------|
| #4a | [SP-001-01.md](SP-001-01.md) | 完了後に #4b へ |
| #4b | [SP-001-02.md](SP-001-02.md) | 完了後に #4c へ |
| #4c | [SP-001-03.md](SP-001-03.md) | 完了後に #5 へ |
| #5 | 追加タスク発覚時のみ | SP-001-04.md 等を新規作成（SP-001-01.md を参考に）|
| #6a | [SP-001-context.md](SP-001-context.md) | 全 01〜0N 完了後 |
| #6b | [SP-001-gate.md](SP-001-gate.md) | context 完了後。**最後に実行** |

> Gate チェック完了後、「Gate 判定サマリー」をユーザーに提示して Go/No-Go を確認する。

---

## 管理記録

| 項目 | 値 |
|------|-----|
| コードベースのパス/URL | - |
| 既存ドキュメント有無 | - |
| 主なドキュメント | - |
| 機械処理言語 | - |
| ファイル数（概算） | - |
| サブシステム有無・内訳 | - |

---

## 子チケット一覧

| ファイル | 内容 | ステータス |
|---------|------|----------|
| [SP-001-01.md](SP-001-01.md) | コードベースの定量把握（手動） | 未開始 |
| [SP-001-02.md](SP-001-02.md) | 機械処理による正確性確認 | 未開始 |
| [SP-001-03.md](SP-001-03.md) | 既存ドキュメント・体制・環境の把握 | 未開始 |
| [SP-001-context.md](SP-001-context.md) | コンテキストファイルの設計 | 未開始 |
| [SP-001-gate.md](SP-001-gate.md) | Gate チェック（機械処理 + LLM + DA） | 未開始 |
