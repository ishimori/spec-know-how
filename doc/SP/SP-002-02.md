# SP-002-02: マスタデータ確認

## このチケットの位置づけ

**全体目標**: このSPシリーズは [manuals/01_仕様書作成マニュアル.md](../../manuals/01_仕様書作成マニュアル.md) の Step 2（DB・データモデルを取得する）完了を目指す — DB構造を把握して後工程の仕様書作成の根拠とする

**マニュアル対応**: [manuals/01_仕様書作成マニュアル.md](../../manuals/01_仕様書作成マニュアル.md) — **Step 2「DB・データモデルを取得する」**（GUIDE_SPEC.md Step 2 セクション参照）

**目的**: マスタテーブル（コード値・区分値を持つテーブル）を特定し、具体的な値を確認する。識別子の不一致（日本語ラベル vs 英語コード等）を早期に発見し、後続フェーズでの横断バグを防ぐ

**最終的な使われ方**: SP-002-context のDB仕様書設計に反映される。特に区分値・コード値の仕様書（マスタデータ仕様書）は Step 4（横断検証）での整合性確認に使用される

**実行 Phase の判断**:

| Phase | 実行条件 |
|-------|---------|
| Phase 1 | 常に実行（マスタテーブル特定） |
| Phase 2 | マスタデータの具体値が確認可能な場合（実DBまたは初期データファイルあり） |

---

## Phase 1: マスタテーブルの特定

- [ ] マスタテーブル（コード値・区分値を持つテーブル）をリストアップした
- [ ] 各マスタテーブルの用途を把握した（何を「区分」しているか）
- [ ] コードの定数定義（enum, const 等）と DB のマスタテーブルの対応を確認した

### 調査記録（Phase 1）

| テーブル名 | 用途・区分の種類 | コード側の対応定数 | 信頼度 |
|----------|-------------|----------------|--------|
| - | - | - | High / Medium / Low |

---

## Phase 2: マスタデータの具体値確認

- [ ] マスタデータの具体値を確認した（実DB / 初期データファイル / シードファイル 等）
- [ ] 日本語ラベルと英語コードの対応関係に不一致がないか確認した
- [ ] コードの定数と DB の値が一致しているか確認した
- [ ] 確認できない場合: その理由を記録し、後続フェーズで確認が必要な項目をリストアップした

### 調査記録（Phase 2）

| テーブル名 | 確認した値（一覧または代表値） | 確認方法 | 不一致・懸念点 | 信頼度 |
|----------|------------------------|---------|-------------|--------|
| - | - | - | - | High / Medium / Low |

> **確認できなかった場合:**
>
> | テーブル名 | 確認できない理由 | 後続フェーズでの確認方法 |
> |----------|-------------|-------------------|
> | - | - | - |

---

## DA 分析（このチケットのスコープ限定）

> 「このチケットの調査で何を見落としているか？マスタデータの不明が後で横断バグとして現れる可能性はないか？」の観点で批判的に確認する。
> 問題がなければ「なし」と記録すること（無理に問題を作らない）。

| # | 発見した問題・懸念 | 重要度 | 対応方針 |
|---|----------------|--------|---------|
| - | なし | - | - |

---

## コンテキスト回収

> この作業中に会話コンテキストにのみ存在する知見・気づきがあれば、
> 上の作業セクションまたは下の「追加タスク」に追記する。

- [ ] コンテキストにしか残っていない重要な情報がないか確認した

---

## 発覚した追加タスク

| タスク内容 | 対応先 | 優先度 |
|----------|--------|--------|
| - | - | - |

---

## 完了時の確認

- [ ] SP-002 の子チケット一覧の本チケットを「完了」に更新した
