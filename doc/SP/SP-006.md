# SP-006: QA 準備完了

> ⚠️ **前提確認（必読）**
> SP-001〜005 がすべて完了（または意図的スキップ）していることを確認してから #1 へ進む。
> 未完了 SP がある場合はその旨をユーザーに報告し、判断を仰ぐこと。

---

## Claude への指示

以下の手順を順番に実行してください。

### [ ] #1: 前提確認（SP-001〜005 の完了確認）

各 SP の完了状態を確認し、管理記録テーブルに記録する。

| SP | 確認方法 | 意図的スキップの許容条件 |
|----|---------|----------------------|
| SP-001 | SP-001 の子チケット一覧を開き、全チケットが「完了」か確認 | スキップ不可（常に実施） |
| SP-002 | SP-002 の完了状態を確認 | DB なしの場合のみスキップ許容（SP-000 で確認済み） |
| SP-003 | SP-003 の完了状態を確認 | フロントエンドなしの場合のみスキップ許容（SP-000 で確認済み） |
| SP-004 | SP-004 の完了状態を確認 | スキップ不可（常に実施） |
| SP-005 | SP-005 の完了状態を確認 | スキップ不可（常に実施） |

- **未完了 SP が存在する（意図的スキップでない）場合**: ユーザーに報告し、完了を待つか続行するかを確認する
- **全 SP が完了または意図的スキップの場合**: 次のステップへ進む

### [ ] #2: 仕様書登録状態の確認

`CLAUDE.md` または `document_map.md` を読み、全仕様書が登録されているか確認する。

- 各 SP の context チケット（SP-002-context、SP-003-context、SP-004-context、SP-005-context）で作成したファイルが登録されているか確認する
- **未登録のファイルがある場合**: 登録を促し、登録完了後に次のステップへ進む
- 登録済みの仕様書ファイル数を管理記録テーブルに記録する

### [ ] #3: 仕様書ファイル数の確認（動的追加判断）

- 仕様書ファイル数を確認し、ユーザーに提示する
- **仕様書が 10 ファイル以上の場合**: SP-006-02（QA スキル作成）を機能ドメイン別に分割することを提案し、ユーザーが判断する
  - 分割する場合: SP-006-02-xx を動的追加
- 判断結果を管理記録テーブルに記録する

### [ ] #4: 子チケット順次実行

以下の順番で子チケットを実行する。

| # | チケット | 内容 | 実行条件 |
|---|---------|------|---------|
| 1 | [SP-006-01.md](SP-006-01.md) | 仕様書品質確認（Low/Conflicting 一覧・網羅性確認） | 常に実行 |
| 2 | [SP-006-02.md](SP-006-02.md) | QA スキル作成・動作確認 | 常に実行 |
| 3 | [SP-006-03.md](SP-006-03.md) | 継続的更新の仕組み決定 | 常に実行 |
| 4 | [SP-006-gate.md](SP-006-gate.md) | Gate 6 チェック | 最後に実行 |

> 動的追加チケット（SP-006-02-xx 等）がある場合は上記の間に適宜挿入する。

### [ ] #5: Gate 6 宣言

SP-006-gate の Gate 判定サマリーをユーザーに提示し、Go/No-Go 宣言の DD を起票する。

---

## 管理記録

| 項目 | 値 |
|------|-----|
| SP-001 完了確認 | 完了 / 未完了 / スキップ不可 |
| SP-002 完了確認 | 完了 / スキップ済み（DB なし）/ 未完了 |
| SP-003 完了確認 | 完了 / スキップ済み（UI なし）/ 未完了 |
| SP-004 完了確認 | 完了 / 未完了 / スキップ不可 |
| SP-005 完了確認 | 完了 / 未完了 / スキップ不可 |
| 登録済み仕様書ファイル数 | - |
| 動的追加チケット（QAスキル分割） | - |

---

## 子チケット一覧

| チケット | ステータス |
|---------|----------|
| [SP-006-01.md](SP-006-01.md) 仕様書品質確認 | 未着手 |
| [SP-006-02.md](SP-006-02.md) QA スキル作成・動作確認 | 未着手 |
| [SP-006-03.md](SP-006-03.md) 継続的更新の仕組み決定 | 未着手 |
| [SP-006-gate.md](SP-006-gate.md) Gate 6 チェック | 未着手 |
