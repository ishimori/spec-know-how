# SP-003-03: ビジネスロジックの在処確認

## このチケットの位置づけ

**全体目標**: このSPシリーズは [manuals/01_仕様書作成マニュアル.md](../../manuals/01_仕様書作成マニュアル.md) の Step 3（画面・UI を把握する）完了を目指す — 画面構成・遷移・操作フローを把握して後工程の仕様書作成の根拠とする

**マニュアル対応**: [manuals/01_仕様書作成マニュアル.md](../../manuals/01_仕様書作成マニュアル.md) — **Step 3「画面・UI を把握する」**（GUIDE.md Step 3 セクション参照、気付き #7）

**目的**: submit/save 関数等の UI 層にビジネスロジック・バリデーション条件が埋まっていないかを確認し、その在処を記録する

**最終的な使われ方**: UI 層に発見したビジネスロジック・バリデーションは SP-004（業務ロジック抽出）で仕様化される。このチケットは「在処の確認と記録」のみを担う — **仕様化は SP-004 の責務**

> ⚠️ **このチケットの責務**: 「submit/save 関数にビジネスロジックが含まれているか」を確認し、**在処と概要を記録する**。詳細な仕様化（条件の網羅・整理）は SP-004 で行う。

**実行 Phase の判断**:

| Phase | 実行条件 |
|-------|---------|
| Phase 1 | 常に実行（submit/save 関数の確認） |

---

## Phase 1: submit/save 関数のビジネスロジック確認

- [ ] 主要な submit/save 関数を特定した（SP-003-01 の画面一覧・API 対応表を参照）
- [ ] 各 submit/save 関数にバリデーション・業務条件が含まれていないか確認した
- [ ] ビジネスロジックが含まれる場合、その関数名・ファイルパス・概要を記録した
  - **詳細な仕様化は行わない（SP-004 へ委譲）**

### 調査記録（Phase 1）

| 画面名 | 関数名 | ファイルパス | ビジネスロジック有無 | 概要（在処のみ・仕様化は SP-004） | 信頼度 |
|-------|-------|-----------|-----------------|---------------------------|--------|
| - | - | - | あり / なし | - | High / Medium / Low |

**SP-004 への引き継ぎリスト:**

> ビジネスロジックが発見された関数・条件を列挙する。SP-004 開始時にこのリストを参照すること。

| 関数名 | ファイルパス | 引き継ぎ内容（概要） |
|-------|-----------|-----------------|
| - | - | - |

---

## DA 分析（このチケットのスコープ限定）

> 「UI 層に埋まったビジネスロジックで見落としているものはないか？submit/save 以外の関数に業務条件が隠れていないか？」の観点で批判的に確認する。
> 問題がなければ「なし」と記録すること（無理に問題を作らない）。

| # | 発見した問題・懸念 | 重要度 | 対応方針 |
|---|----------------|--------|---------|
| - | なし | - | - |

---

## コンテキスト回収

> この作業中に会話コンテキストにのみ存在する知見・気づきがあれば、
> 上の作業セクションまたは下の「追加タスク」に追記する。

- [ ] コンテキストにしか残っていない重要な情報がないか確認した

---

## 発覚した追加タスク

| タスク内容 | 対応先 | 優先度 |
|----------|--------|--------|
| - | - | - |

---

## 完了時の確認

- [ ] SP-003 の子チケット一覧の本チケットを「完了」に更新した
