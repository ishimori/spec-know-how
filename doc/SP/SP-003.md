# SP-003: 画面・UI 把握

> ⚠️ **前提確認（必読）**
> SP-000 GroupD の回答を確認すること。
> **「フロントエンドなし / API のみ」の場合、この SP 全体をスキップして SP-004 へ進む。**
> SP-001（初回調査）が完了していることを確認すること。

---

## Claude への指示

以下の手順を順番に実行してください。

### [ ] #1: 前提確認

SP-001 の完了状態と SP-000 GroupD の回答を確認する。

- SP-001 の子チケット一覧を開き、全チケットが「完了」であることを確認する
- SP-000 を開き、GroupD「フロントエンド有無・フレームワーク種別」の回答を確認する
  - **「フロントエンドなし / API のみ」→ この SP をスキップし SP-004 へ進む旨をユーザーに伝える**
  - 「フロントエンドあり」→ #2 へ進む
- SP-002 を実施した場合: SP-002-context で設計した DB 仕様書ファイルが存在することを確認する
  - DB 仕様書が存在する → 管理記録テーブルにファイルパスを記録する
  - SP-002 をスキップした（DB なし）→ 記録不要。その旨を管理記録テーブルに記録する
- 確認した情報を下の管理記録テーブルに転記する

### [ ] #2: 画面数概算計測

コードベースのルーティング定義・画面コンポーネントから画面数を概算する。

- 画面数（モーダル・ダイアログを含む）を計測し、ユーザーに提示する
- **画面数 15 以上の場合**: 機能ドメイン別 / ロール別への分割を提案し、ユーザーが判断する
  - 分割する場合: SP-003-04 以降を動的追加し、SP-003-01 のスコープを調整する
- 計測結果を下の管理記録テーブルに記録する

### [ ] #3: 子チケット順次実行

以下の順番で子チケットを実行する。

| # | チケット | 内容 | 実行条件 |
|---|---------|------|---------|
| 1 | [SP-003-01.md](SP-003-01.md) | 画面一覧・画面遷移 | 常に実行 |
| 2 | [SP-003-02.md](SP-003-02.md) | 権限・ロール制御 | 常に実行（権限なしなら「なし」と記録して完了） |
| 3 | [SP-003-03.md](SP-003-03.md) | ビジネスロジックの在処確認 | 常に実行 |
| 4 | [SP-003-context.md](SP-003-context.md) | 画面仕様書ファイル構成設計 | 上記完了後 |
| 5 | [SP-003-gate.md](SP-003-gate.md) | Gate 3 チェック | 最後に実行 |

### [ ] #4: Gate 3 宣言

SP-003-gate の Gate 判定サマリーをユーザーに提示し、Go/No-Go 宣言の DD を起票する。

---

## 管理記録

| 項目 | 値 |
|------|-----|
| SP-001 完了確認 | - |
| SP-000 GroupD（フロントエンド有無・種別） | - |
| SP-002 DB仕様書ファイルパス（またはスキップ理由） | - |
| 画面数概算（モーダル含む） | - |
| 動的追加チケット | - |

---

## 子チケット一覧

| チケット | ステータス |
|---------|----------|
| [SP-003-01.md](SP-003-01.md) 画面一覧・画面遷移 | 未着手 |
| [SP-003-02.md](SP-003-02.md) 権限・ロール制御 | 未着手 |
| [SP-003-03.md](SP-003-03.md) ビジネスロジックの在処確認 | 未着手 |
| [SP-003-context.md](SP-003-context.md) 画面仕様書ファイル構成設計 | 未着手 |
| [SP-003-gate.md](SP-003-gate.md) Gate 3 チェック | 未着手 |
