# SP-005-04: 運用・保守

## このチケットの位置づけ

**全体目標**: このSPシリーズは [manuals/01_仕様書作成マニュアル.md](../../manuals/01_仕様書作成マニュアル.md) の Step 5（非機能要件を確認する）完了を目指す — 認証・認可・セキュリティ・ログ・運用を仕様として文書化し、後続の QA スキル構築の根拠とする

**マニュアル対応**: [manuals/01_仕様書作成マニュアル.md](../../manuals/01_仕様書作成マニュアル.md) — **Step 5「非機能要件を確認する」**

**目的**: バックアップ・リカバリ・デプロイ・環境変数管理の方針を記録する

**実行 Phase の判断**:

| Phase | 実行条件 |
|-------|---------|
| Phase 1 | 常に実行（バックアップ・リカバリ） |
| Phase 2 | 常に実行（デプロイ・環境変数管理） |

---

## Phase 1: バックアップ・リカバリの確認

- [ ] バックアップの仕組みを確認した（自動 / 手動 / クラウドサービス等）
  - **バックアップなし / 不明の場合**: 「なし / 不明」と明記する
- [ ] バックアップの頻度・保存期間を確認した（ある場合）
- [ ] リカバリ手順が存在するか確認した（ドキュメント / スクリプト等）

### 調査記録（Phase 1）

| 項目 | 確認結果 | 根拠（ドキュメント / 設定ファイル） | 信頼度 |
|------|---------|----------------------------------|--------|
| バックアップ方式 | - | - | High / Medium / Low |
| バックアップ頻度 | - | - | High / Medium / Low |
| 保存期間 | - | - | High / Medium / Low |
| リカバリ手順の有無 | あり / なし / 不明 | - | High / Medium / Low |

---

## Phase 2: デプロイ・環境変数管理の確認

- [ ] デプロイ方法を確認した（手動 / CI/CD / スクリプト等）
- [ ] デプロイの手順・依存関係を把握した
- [ ] 環境変数・設定ファイルの管理方法を確認した（`.env` / シークレットマネージャー / ハードコード等）
  - **ハードコードが発見された場合**: 場所を記録し、SP-005-02（セキュリティ）に追記する

### 調査記録（Phase 2）

| 項目 | 確認結果 | 根拠（ファイルパス / ドキュメント） | 信頼度 |
|------|---------|--------------------------------|--------|
| デプロイ方法 | - | - | High / Medium / Low |
| CI/CD パイプライン | あり / なし | - | High / Medium / Low |
| 環境変数管理方法 | - | - | High / Medium / Low |
| ハードコードされた秘匿情報 | あり（要対応）/ なし | - | High / Medium / Low |

---

## DA 分析（このチケットのスコープ限定）

> 「ハードコードされた秘匿情報を見落としていないか？デプロイ手順に属人的な手順が含まれていないか？」の観点で批判的に確認する。
> 問題がなければ「なし」と記録すること（無理に問題を作らない）。

| # | 発見した問題・懸念 | 重要度 | 対応方針 |
|---|----------------|--------|---------|
| - | なし | - | - |

---

## コンテキスト回収

> この作業中に会話コンテキストにのみ存在する知見・気づきがあれば、
> 上の作業セクションまたは下の「追加タスク」に追記する。

- [ ] コンテキストにしか残っていない重要な情報がないか確認した

---

## 発覚した追加タスク

| タスク内容 | 対応先 | 優先度 |
|----------|--------|--------|
| - | - | - |

---

## 完了時の確認

- [ ] SP-005 の子チケット一覧の本チケットを「完了」に更新した
