# DD-004: SP-003 テンプレート設計（画面・UI）

| 作成日 | 更新日 | ステータス |
|--------|--------|------------|
| 2026-02-24 | 2026-02-24 | 進行中 |

## 目的

SP-003（画面・UI）の親チケットテンプレートを設計・作成する。

## 背景・課題

既存の `sample_prompts/03_画面UI.md` は環境差異に対応できない。
フロントエンドがない（API のみのシステム）場合でも画面調査を試みるケースがある。

SP-003 では SP-000 の環境プロファイル（フロントエンドの有無・フレームワーク種別）を参照し、
実際の UI 構成に合った調査を行う。

## 検討内容

`sample_prompts/03_画面UI.md` のポイント：
- 画面一覧・画面遷移の整備
- API エンドポイント把握
- 操作フロー把握、画面遷移の図式化
- 画面数15以上時に分割推奨（2〜3 DD）

SP-003 として再設計する際の論点：
- フロントエンドなし（SPA でない・API のみ）の場合、SP-003 はスキップか別対応か
- 「画面の機能」と「UI の構成」を分けて記録する（GUIDE.md の教訓 #8）
- submit/save 関数のバリデーション確認を SP-003 の責務に含めるか（SP-004 との境界）

## 決定事項

（Phase 1 設計後に記載）

## タスク一覧

### Phase 0: 事前精査
- [ ] 📋 **各 Phase のタスク精査・詳細化**
- [ ] `sample_prompts/03_画面UI.md` を読んで SP 形式への転換ポイントを整理する
- [ ] 😈 **Devil's Advocate 調査**
  - フロントエンドなしの場合の SP-003 の扱いは？
  - SP-003 と SP-004 の境界（UI 層ロジック）は明確か？

### Phase 1: 設計
- [ ] SP-003 の「環境確認フロー」を設計する（フロントエンド有無・種別の確認）
- [ ] スキップ条件（フロントエンドなし）の扱いを定義する
- [ ] 子チケット動的生成の条件・分割パターンを定義する（画面数基準等）
- [ ] GUIDE.md Step 3 との対応を確認する
- [ ] 😈 **DA 批判レビュー（「このPhaseで何が壊れるか」を最低1件発見）**

### Phase 2: 実装
- [ ] SP-003 テンプレートファイルを作成する（`doc/SP/SP-003.md`）
- [ ] テンプレートで環境確認フロー・子チケット生成指示が機能するか確認する
- [ ] 😈 **DA 批判レビュー（「このPhaseで何が壊れるか」を最低1件発見）**

## ログ

### 2026-02-24
- DD 作成（DD-001 Phase 2 の切り出し）

---

## DA 批判レビュー記録

### Phase N DA 批判レビュー

**DA 観点:** （Phase 完了後に記録）

| # | 発見した問題/改善点 | 重要度 | 再現手順 | DA 観点 | 対応 |
|---|-------------------|--------|----------|--------|------|
| 1 | （記録予定） | - | - | - | - |
