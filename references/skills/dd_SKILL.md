---
name: dd
description: DD設計書の作成・参照・一覧・アーカイブ
---

# DD設計書操作

DD（Design Document）設計書を操作するスキルです。

---

## ⚠️ 重要ルール（CRITICAL）

**このセクションは必ず守ること。違反は作業のやり直しにつながる。**

### 添付ファイル・フォルダの配置ルール

「添付ファイルを作って」「関連資料を追加して」と言われたら：

| ユーザーが言う言葉 | 作成するもの |
|-------------------|-------------|
| 「添付ファイル」 | `{DDフォルダ}/DD-{番号}/` 内のファイル |
| 「添付フォルダ」 | `{DDフォルダ}/DD-{番号}/` フォルダ |
| 「関連資料」 | `{DDフォルダ}/DD-{番号}/` 内のファイル |

**正しい配置例（DD-001の場合）:**
```
doc/DD/
├── DD-001_タイトル.md      # 本体（DDフォルダ直下）
└── DD-001/                  # DD番号フォルダ
    ├── 詳細設計.md
    └── 参考資料.png
```

**❌ 禁止:**
- `attachment/` や `attachments/` フォルダを作成
- 汎用的な名前のフォルダを作成

### アーカイブ時の必須確認

**移動前に必ず実行:**
```bash
ls {DDフォルダ}/ | grep DD-{番号}
```

**フォルダが存在すれば、本体（.md）と一緒に移動すること。**

| 移動元 | 移動先 |
|--------|--------|
| `{DDフォルダ}/DD-{番号}_*.md` | `{アーカイブ}/` |
| `{DDフォルダ}/DD-{番号}/` | `{アーカイブ}/DD-{番号}/` |

**チェックリスト（必須）:**
- [ ] DD本体（.md）を移動した
- [ ] DD番号フォルダが存在する場合、移動した
- [ ] 元の場所にDD関連ファイルが残っていない

**チェックリスト未確認でのアーカイブ完了報告は禁止。**

---

## 自然言語での呼び出し例

- 「DD-27を見せて」「27番のDD」 → DD参照
- 「新しいDDを作って」「〇〇のDDを作成」 → 新規作成
- 「DD一覧」「進行中のDD」 → 一覧表示
- 「DD-27をアーカイブ」 → アーカイブ
- 「DD-80の添付ファイルを作って」「関連資料を追加」 → 添付ファイル作成

## DD番号の解釈（柔軟に）

以下はすべて同じDD-001を指す：
- `DD-001` / `DD 001` / `DD001` / `001` / `1`

識別子付き（チーム開発時）：
- `DDI-001`（石森）、`DDSA-001`（斉藤）など

---

## 操作手順

### 参照

1. `{DDフォルダ}/DD-{番号}_*.md` を検索（なければアーカイブも検索）
2. **DD本体のみ読み込む**（リンク先は自動で読み込まない）
3. DD番号フォルダ（`DD-{番号}/`）があれば通知
4. 「何をしますか？」と確認

### 新規作成

1. DDフォルダとアーカイブから最大番号を取得
2. 次の連番でファイル作成: `DD-{連番}_{タイトル}.md`
3. テンプレート（`templates/dd_template.md`）を使用
   - `{番号}` `{タイトル}` `{日付}` を置換

### 一覧

```
📋 現行DD:
- DD-087: 在庫消費モード指定機能

📦 完了DD（アーカイブ済み）:
- DD-086: ...
```

### アーカイブ

→ **「⚠️ 重要ルール」セクションの手順に従うこと**

---

## DD分割の提案

DDが大きくなりそうな場合（100行超の見込み）、分割を提案する：

- 複数フェーズがある（PoC→実装→デプロイ等）
- Go/No-Go判断ポイントがある

**提案例:**
```
このDDは分割した方が効率的です：
- DD-050: 技術選定PoC
- DD-051: 詳細設計・実装
分割しますか？
```

---

## 注意事項

- DDを更新した場合は「ログ」セクションに記録を追加
- タスク完了時は `[x]` に変更

## 関連スキル

- `/workflow` - 9ステップ開発フロー、Phase管理、DA批判レビュー、仕様書同期
