# サンプルプロンプト: Gate 4 — 業務ロジック

対応 Gate: [gates/04_business_logic.md](../gates/04_business_logic.md)

---

## DD 起票プロンプト

> `<コードベースのパス>` と `<仕様書の出力先>` を実際のパスに置き換えてください。

```
以下の内容のDDを作ってください。

<コードベースのパス> のコードベースを分析し、業務ロジックを仕様書として抽出してください。
仕様書は <仕様書の出力先> に保存してください。

## 抽出の網羅性
- [ ] 主要な業務フロー（Happy Path）を仕様書に記述した
- [ ] 計算ロジック（料金計算・集計処理等）を仕様書に記述した
- [ ] バリデーションルール（入力制約・業務上の制約）を仕様書に記述した
- [ ] 状態遷移（ワークフロー・ステータス管理）を仕様書に記述した
- [ ] 外部システム連携（API 呼び出し・ファイル入出力）を仕様書に記述した

## 信頼度の付与
- [ ] 仕様書の全項目に信頼度（High / Medium / Low / Conflicting）を付与した
- [ ] Conflicting（矛盾）の項目がある場合、解消計画を立てた

## コードとの突合
- [ ] High と記録した項目は、コードの該当箇所を確認済み
- [ ] Conflicting の項目が 0 件、または解消計画がある

## ドキュメントマップへの登録
- [ ] 作成した仕様書ファイルを CLAUDE.md または document_map.md に追記した
```

---

## DD 完了後の Gate 確認

**人間が確認する場合:**
[gates/04_business_logic.md](../gates/04_business_logic.md) を開いてチェックリストを埋める。

**Claude に確認させる場合:**
```
このDDの内容は gates/04_business_logic.md の基準を満たしていますか？
不足している項目があれば指摘してください。
```

---

## Gate 宣言 DD 起票プロンプト

> `<確認結果の要約>` と `<未解決事項>` を実際の内容に置き換えてください。

```
以下の内容のDDを作ってください。

Gate 4（業務ロジック抽出）の通過を宣言します。

## 確認結果
- [ ] gates/04_business_logic.md のチェックリストを確認した
- [ ] チェックリストの各項目の確認結果を記録した
- [ ] 作成した仕様書ファイルをすべて CLAUDE.md または document_map.md に追記した
- [ ] Conflicting 信頼度の項目が 0 件、または解消計画がある

## 判断
- 通過判定: 通過 / 条件付き通過 / 保留（いずれかを選択）
- 確認結果の要約: <確認結果の要約>
- 未解決事項（ある場合）: <未解決事項と解消計画>

## 次のステップ
- [ ] Step 5（非機能要件の確認）に進む
```
