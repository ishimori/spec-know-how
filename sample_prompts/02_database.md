# サンプルプロンプト: Gate 2 — DB・データモデル

対応 Gate: [gates/02_database.md](../gates/02_database.md)

---

## DD 起票プロンプト

> `<コードベースのパス>` を実際のパスに置き換えてください。

```
以下の内容のDDを作ってください。

<コードベースのパス> のコードベースを分析し、DB・データモデルについて以下を行ってください。

## スキーマの取得
- [ ] DDL または ERD を取得した（なければコードのモデル定義から読み取った）
- [ ] 主要テーブルの一覧を作成した（テーブル名と用途）
- [ ] 主要な外部キー関係（テーブル間の関連）を把握した

## テーブルの詳細確認
- [ ] 論理削除カラム（deleted_at、is_deleted 等）の有無を確認した
- [ ] ストアドプロシージャ・ビューを確認した（ある場合）
- [ ] マイグレーションファイルを確認した（ある場合）
- [ ] インデックス定義を確認した（パフォーマンスに影響する可能性）

## マスタデータの確認
- [ ] マスタテーブル（コード値・区分値を持つテーブル）を特定した
- [ ] マスタデータの具体値を確認した、または確認できない理由を記録した

## ドキュメントマップへの登録
- [ ] 作成した DB 仕様書ファイルを CLAUDE.md または document_map.md に追記した
```

---

## DD 完了後の Gate 確認

**人間が確認する場合:**
[gates/02_database.md](../gates/02_database.md) を開いてチェックリストを埋める。

**Claude に確認させる場合:**
```
このDDの内容は gates/02_database.md の基準を満たしていますか？
不足している項目があれば指摘してください。
```

---

## Gate 宣言 DD 起票プロンプト

> `<確認結果の要約>` と `<未解決事項>` を実際の内容に置き換えてください。

```
以下の内容のDDを作ってください。

Gate 2（DB・データモデル）の通過を宣言します。

## 確認結果
- [ ] gates/02_database.md のチェックリストを確認した
- [ ] チェックリストの各項目の確認結果を記録した
- [ ] 作成した DB 仕様書ファイルを CLAUDE.md または document_map.md に追記した

## 判断
- 通過判定: 通過 / 条件付き通過 / 保留（いずれかを選択）
- 確認結果の要約: <確認結果の要約>
- 未解決事項（ある場合）: <未解決事項と解消計画>

## 次のステップ
- [ ] Step 4（業務ロジック抽出）に進む（Step 3 が完了している場合）
```
