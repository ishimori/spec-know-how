# サンプルプロンプト: Gate 5 — 非機能要件

対応 Gate: [gates/05_nfr.md](../gates/05_nfr.md)

---

## DD 起票プロンプト

> `<コードベースのパス>` を実際のパスに置き換えてください。

```
以下の内容のDDを作ってください。

<コードベースのパス> のコードベースを分析し、非機能要件について以下を行ってください。

## 認証・認可
- [ ] 認証の仕組みを確認した（セッション / JWT / OAuth 等）
- [ ] 認可の仕組みを確認した（ロールベース / リソースベース 等）
- [ ] 未認証時の挙動を確認した（リダイレクト先・エラー応答）

## ログ・監査
- [ ] アプリケーションログの出力方針を確認した（何をログに残しているか）
- [ ] 監査ログの有無を確認した（誰がいつ何をしたか）
- [ ] ログの保存場所・保存期間を確認した（ある場合）

## パフォーマンス
- [ ] SLA・応答時間の要件を確認した（ある場合）
- [ ] 大量データを扱う処理・バッチ処理を特定した
- [ ] 既知のパフォーマンス問題（N+1 クエリ等）を確認した

## セキュリティ
- [ ] SQLインジェクション対策を確認した
- [ ] XSS 対策を確認した
- [ ] CSRF 対策を確認した
- [ ] 機密情報の扱い（パスワード・個人情報等）を確認した

## 運用・保守
- [ ] バックアップ・リカバリ方針を確認した（ある場合）
- [ ] デプロイ方法を確認した
- [ ] 環境変数・設定ファイルの管理方法を確認した

## ドキュメントマップへの登録
- [ ] 作成した NFR 仕様書ファイルを CLAUDE.md または document_map.md に追記した
```

---

## DD 完了後の Gate 確認

**人間が確認する場合:**
[gates/05_nfr.md](../gates/05_nfr.md) を開いてチェックリストを埋める。

**Claude に確認させる場合:**
```
このDDの内容は gates/05_nfr.md の基準を満たしていますか？
不足している項目があれば指摘してください。
```

---

## Gate 宣言 DD 起票プロンプト

> `<確認結果の要約>` と `<未解決事項>` を実際の内容に置き換えてください。

```
以下の内容のDDを作ってください。

Gate 5（非機能要件）の通過を宣言します。

## 確認結果
- [ ] gates/05_nfr.md のチェックリストを確認した
- [ ] チェックリストの各項目の確認結果を記録した
- [ ] 作成した NFR 仕様書ファイルを CLAUDE.md または document_map.md に追記した

## 判断
- 通過判定: 通過 / 条件付き通過 / 保留（いずれかを選択）
- 確認結果の要約: <確認結果の要約>
- 未解決事項（ある場合）: <未解決事項と解消計画>

## 次のステップ
- [ ] Step 6（QA スキル作成）に進む
```
