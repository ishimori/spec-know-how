# サンプルプロンプト集

各 Step の作業を DD（設計書）として起票するためのプロンプトサンプルです。

## 前提

dd-know-how スキルが導入済みであること。
未導入の場合は https://github.com/ishimori/dd-know-how を参照してセットアップしてください。

## DD の粒度について

各ファイルのプロンプトは「1 Gate = 1 DD」として記載していますが、**実際にはシステムのボリュームに応じてさらに小分けにすることを推奨します**。

例（Gate 2 を分割する場合）:
- DD-A: スキーマ取得（テーブル一覧の作成まで）
- DD-B: 関連テーブルの詳細確認（外部キー・ビュー・ストアドプロシージャ）
- DD-C: マスタデータの具体値確認

DD を小さく保つと、作業の進捗が見やすくなり、詰まったときに原因を特定しやすくなります。

### 分割トリガーの目安

| Step | 分割を検討するタイミング | 分割例 |
|------|----------------------|--------|
| Step 1（初回調査） | ファイル数 300 以上、またはサブシステムが複数混在 | フロントエンド / バックエンド |
| Step 2（DB） | テーブル数 30 以上 | スキーマ取得 / 外部キー詳細 / マスタデータ |
| Step 3（画面） | 画面数 15 以上 | 画面一覧 / 権限制御 / ロジック確認 |
| Step 4（業務ロジック） | 主要フロー 5 以上 | フロー単位で分割 |
| Step 5（NFR） | 認証方式・外部サービスが多岐にわたる | 認証 / セキュリティ / 運用 |
| Step 6（QA） | 仕様書 10 ファイル以上 | スキル作成 / Low 一覧整備 |

各プロンプトの先頭に「事前スコープ確認」が含まれており、規模が大きい場合は分割案を提示してから作業継続するよう Claude に指示しています。

## 使い方

1. 対応するファイルを開く
2. **「DD 起票プロンプト」**（コードブロック）をコピーして Claude に貼り付ける
3. `<コードベースのパス>` などのプレースホルダーを実際の値に置き換える
4. DD が完了したら、「完了前の確認プロンプト」をコピーして Claude に貼り付ける
5. **「Gate チェックリスト（人間が確認）」**セクションの各項目を目視確認する（コピー不要）
6. 「Gate 宣言 DD 起票プロンプト」をコピーして Claude に貼り付け、Gate 通過を記録する

## ファイル内のコンテンツ種別

各ファイルには2種類のコンテンツが含まれています。

| 種別 | 見分け方 | 使い方 |
|------|---------|-------|
| **Claude へのプロンプト** | コードブロック（```）内に記載。直前に「コピーして Claude に貼り付けてください」と表示 | コードブロックをコピーして Claude に貼り付ける |
| **Gate チェックリスト** | 「## Gate チェックリスト（人間が確認）」セクション。直後に「コピー不要」と表示 | 自分で目視確認する。コピー不要 |

## Gate 宣言 DD について

Gate 宣言 DD は「この Gate を通過した」という**人間の意思決定を記録する**ためのものです。

- 作業 DD が完了した後に別途起票する
- チェックリストの確認結果・未解決事項・判断の根拠を記録する
- 「Gate 2 通過。マスタデータは未確認だが、Step 4 で仕様書作成後に照合する方針」のような判断も記録できる

各プロンプトファイルの末尾に Gate 宣言 DD 用のプロンプトが含まれています。
